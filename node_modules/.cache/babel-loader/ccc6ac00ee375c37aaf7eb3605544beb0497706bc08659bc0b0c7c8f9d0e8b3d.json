{"ast":null,"code":"import{createSlice}from\"@reduxjs/toolkit\";const initialState={products:[],singleProduct:{},numberOfProducts:0};const CartSlice=createSlice({name:'cart',initialState,reducers:{addToCart(state,action){const newItem=action.payload;const index=state.products.findIndex(cartEntry=>cartEntry.id===newItem.id);if(index!==-1){state.products[index].quantity++;}else{const newProduct={...newItem,quantity:1};state.products.push(newProduct);}state.numberOfProducts++;},deleteAllCart(state){state.products=[];state.numberOfProducts=0;},deleteOneItem(state,action){const itemToDelete=action.payload;const index=state.products.findIndex(item=>item.id===itemToDelete.id);if(index!==-1){state.numberOfProducts--;state.products[index].quantity--;if(state.products[index].quantity===0){state.products.splice(index,1);}}},deleteWholeItem(state,action){const itemToDelete=action.payload;const index=state.products.findIndex(item=>item.id===itemToDelete.id);if(index!==-1){const updatedProduct=state.products[index];state.numberOfProducts-=updatedProduct.quantity;state.products.splice(index,1);}}}});export const{addToCart,deleteAllCart,deleteOneItem,deleteWholeItem}=CartSlice.actions;export default CartSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","products","singleProduct","numberOfProducts","CartSlice","name","reducers","addToCart","state","action","newItem","payload","index","findIndex","cartEntry","id","quantity","newProduct","push","deleteAllCart","deleteOneItem","itemToDelete","item","splice","deleteWholeItem","updatedProduct","actions","reducer"],"sources":["C:/Users/denis/WebstormProjects/onlineStoreNeo/src/store/cartManagement/CartSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\r\nimport { IItem } from \"../../models/IItem\";\r\nimport { cartState } from \"./types\";\r\n\r\nconst initialState: cartState = {\r\n    products: [],\r\n    singleProduct: {} as IItem,\r\n    numberOfProducts: 0,\r\n}\r\n\r\nconst CartSlice = createSlice({\r\n    name: 'cart',\r\n    initialState,\r\n    reducers: {\r\n        addToCart(state, action: PayloadAction<IItem>) {\r\n            const newItem = action.payload;\r\n            const index = state.products.findIndex(cartEntry => cartEntry.id === newItem.id);\r\n            if (index !== -1) {\r\n                state.products[index].quantity++;\r\n            } else {\r\n                const newProduct = { ...newItem, quantity: 1 };\r\n                state.products.push(newProduct);\r\n            }\r\n            state.numberOfProducts++;\r\n        },\r\n        deleteAllCart(state) {\r\n            state.products = [];\r\n            state.numberOfProducts = 0;\r\n        },\r\n        deleteOneItem(state, action: PayloadAction<IItem>) {\r\n            const itemToDelete = action.payload;\r\n            const index = state.products.findIndex(item => item.id === itemToDelete.id);\r\n            if (index !== -1) {\r\n                state.numberOfProducts--;\r\n                state.products[index].quantity--;\r\n\r\n                if (state.products[index].quantity === 0) {\r\n                    state.products.splice(index, 1);\r\n                }\r\n            }\r\n        },\r\n        deleteWholeItem(state, action: PayloadAction<IItem>) {\r\n            const itemToDelete = action.payload;\r\n            const index = state.products.findIndex(item => item.id === itemToDelete.id);\r\n            if (index !== -1) {\r\n                const updatedProduct = state.products[index];\r\n                state.numberOfProducts -= updatedProduct.quantity;\r\n                state.products.splice(index, 1);\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\nexport const { addToCart, deleteAllCart, deleteOneItem, deleteWholeItem } = CartSlice.actions;\r\nexport default CartSlice.reducer;"],"mappings":"AAAA,OAASA,WAAW,KAAuB,kBAAkB,CAI7D,KAAM,CAAAC,YAAuB,CAAG,CAC5BC,QAAQ,CAAE,EAAE,CACZC,aAAa,CAAE,CAAC,CAAU,CAC1BC,gBAAgB,CAAE,CACtB,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGL,WAAW,CAAC,CAC1BM,IAAI,CAAE,MAAM,CACZL,YAAY,CACZM,QAAQ,CAAE,CACNC,SAASA,CAACC,KAAK,CAAEC,MAA4B,CAAE,CAC3C,KAAM,CAAAC,OAAO,CAAGD,MAAM,CAACE,OAAO,CAC9B,KAAM,CAAAC,KAAK,CAAGJ,KAAK,CAACP,QAAQ,CAACY,SAAS,CAACC,SAAS,EAAIA,SAAS,CAACC,EAAE,GAAKL,OAAO,CAACK,EAAE,CAAC,CAChF,GAAIH,KAAK,GAAK,CAAC,CAAC,CAAE,CACdJ,KAAK,CAACP,QAAQ,CAACW,KAAK,CAAC,CAACI,QAAQ,EAAE,CACpC,CAAC,IAAM,CACH,KAAM,CAAAC,UAAU,CAAG,CAAE,GAAGP,OAAO,CAAEM,QAAQ,CAAE,CAAE,CAAC,CAC9CR,KAAK,CAACP,QAAQ,CAACiB,IAAI,CAACD,UAAU,CAAC,CACnC,CACAT,KAAK,CAACL,gBAAgB,EAAE,CAC5B,CAAC,CACDgB,aAAaA,CAACX,KAAK,CAAE,CACjBA,KAAK,CAACP,QAAQ,CAAG,EAAE,CACnBO,KAAK,CAACL,gBAAgB,CAAG,CAAC,CAC9B,CAAC,CACDiB,aAAaA,CAACZ,KAAK,CAAEC,MAA4B,CAAE,CAC/C,KAAM,CAAAY,YAAY,CAAGZ,MAAM,CAACE,OAAO,CACnC,KAAM,CAAAC,KAAK,CAAGJ,KAAK,CAACP,QAAQ,CAACY,SAAS,CAACS,IAAI,EAAIA,IAAI,CAACP,EAAE,GAAKM,YAAY,CAACN,EAAE,CAAC,CAC3E,GAAIH,KAAK,GAAK,CAAC,CAAC,CAAE,CACdJ,KAAK,CAACL,gBAAgB,EAAE,CACxBK,KAAK,CAACP,QAAQ,CAACW,KAAK,CAAC,CAACI,QAAQ,EAAE,CAEhC,GAAIR,KAAK,CAACP,QAAQ,CAACW,KAAK,CAAC,CAACI,QAAQ,GAAK,CAAC,CAAE,CACtCR,KAAK,CAACP,QAAQ,CAACsB,MAAM,CAACX,KAAK,CAAE,CAAC,CAAC,CACnC,CACJ,CACJ,CAAC,CACDY,eAAeA,CAAChB,KAAK,CAAEC,MAA4B,CAAE,CACjD,KAAM,CAAAY,YAAY,CAAGZ,MAAM,CAACE,OAAO,CACnC,KAAM,CAAAC,KAAK,CAAGJ,KAAK,CAACP,QAAQ,CAACY,SAAS,CAACS,IAAI,EAAIA,IAAI,CAACP,EAAE,GAAKM,YAAY,CAACN,EAAE,CAAC,CAC3E,GAAIH,KAAK,GAAK,CAAC,CAAC,CAAE,CACd,KAAM,CAAAa,cAAc,CAAGjB,KAAK,CAACP,QAAQ,CAACW,KAAK,CAAC,CAC5CJ,KAAK,CAACL,gBAAgB,EAAIsB,cAAc,CAACT,QAAQ,CACjDR,KAAK,CAACP,QAAQ,CAACsB,MAAM,CAACX,KAAK,CAAE,CAAC,CAAC,CACnC,CACJ,CACJ,CACJ,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEL,SAAS,CAAEY,aAAa,CAAEC,aAAa,CAAEI,eAAgB,CAAC,CAAGpB,SAAS,CAACsB,OAAO,CAC7F,cAAe,CAAAtB,SAAS,CAACuB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}